{"version":3,"file":"mmcollapse.js","sourceRoot":"","sources":["../src/mmcollapse.ts"],"names":[],"mappings":"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","sourcesContent":["/*!\n* mmcollapse - v0.0.2\n* another collapse plugin\n* https://github.com/onokumus/mmcollapse#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n\nclass MMCollapse {\n  protected root: HTMLElement;\n  protected isTransitioning!: boolean;\n  constructor(element: Element) {\n    this.root = element as HTMLElement;\n  }\n\n  toggle() {\n    if (this.root.classList.contains('mm-show')) {\n      this.hide()\n    } else {\n      this.show();\n    }\n  }\n\n  show() {\n    if (this.isTransitioning || this.root.classList.contains('mm-show')) {\n      return;\n    }\n    this.root.style.height = '0px';\n    this.root.classList.remove('mm-collapse');\n    this.root.classList.remove('mm-show');\n    this.root.classList.add('mm-collapsing');\n\n    this.isTransitioning = true;\n\n    this.root.classList.add('mm-collapse');\n    this.root.classList.add('mm-show');\n\n    this.root.style.height = `${this.root.scrollHeight}px`;\n\n    const handleShowTransitionEnd = () => {\n      this.root.classList.remove('mm-collapsing');\n      this.root.style.height = '';\n      this.root.removeEventListener('transitionend', handleShowTransitionEnd);\n      this.isTransitioning = false;\n    }\n\n    this.root.addEventListener('transitionend', handleShowTransitionEnd);\n  }\n\n  hide() {\n    if (this.isTransitioning || !this.root.classList.contains('mm-show')) {\n      return;\n    }\n\n    this.root.style.height = `${this.root.getBoundingClientRect().height}px`;\n    this.root.style.height = `${this.root.offsetHeight}px`;\n\n    this.root.classList.add('mm-collapsing');\n    this.root.classList.remove('mm-collapse');\n    this.root.classList.remove('mm-show');\n    this.isTransitioning = true;\n\n    const handleHideTransitionEnd = () => {\n      this.root.classList.remove('mm-collapsing');\n      this.root.classList.add('mm-collapse');\n      this.root.style.height = '';\n      this.root.removeEventListener('transitionend', handleHideTransitionEnd);\n      this.isTransitioning = false;\n    }\n\n    this.root.addEventListener('transitionend', handleHideTransitionEnd);\n    this.root.style.height = '0px';\n  }\n}\n\nexport = MMCollapse;\n// export default MMCollapse;\n"]}