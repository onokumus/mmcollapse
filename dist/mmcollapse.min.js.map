{"version":3,"sources":["../src/mmcollapse.ts"],"sourcesContent":["/*!\n* mmcollapse - v0.0.1\n* another collapse plugin\n* https://github.com/onokumus/mmcollapse#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n\nclass MMCollapse {\n  protected root: HTMLElement;\n  protected isTransitioning!: boolean;\n  constructor(element: Element) {\n    this.root = element as HTMLElement;\n  }\n\n  toggle() {\n    if (this.root.classList.contains('mm-show')) {\n      this.hide()\n    } else {\n      this.show();\n    }\n  }\n\n  show() {\n    if (this.isTransitioning || this.root.classList.contains('mm-show')) {\n      return;\n    }\n    this.root.style.height = '0px';\n    this.root.classList.remove('mm-collapse');\n    this.root.classList.remove('mm-show');\n    this.root.classList.add('mm-collapsing');\n\n    this.isTransitioning = true;\n\n    this.root.classList.add('mm-collapse');\n    this.root.classList.add('mm-show');\n\n    this.root.style.height = `${this.root.scrollHeight}px`;\n\n    const handleShowTransitionEnd = () => {\n      this.root.classList.remove('mm-collapsing');\n      this.root.style.height = '';\n      this.root.removeEventListener('transitionend', handleShowTransitionEnd);\n      this.isTransitioning = false;\n    }\n\n    this.root.addEventListener('transitionend', handleShowTransitionEnd);\n  }\n\n  hide() {\n    if (this.isTransitioning || !this.root.classList.contains('mm-show')) {\n      return;\n    }\n\n    this.root.style.height = `${this.root.getBoundingClientRect().height}px`;\n    this.root.style.height = `${this.root.offsetHeight}px`;\n\n    this.root.classList.add('mm-collapsing');\n    this.root.classList.remove('mm-collapse');\n    this.root.classList.remove('mm-show');\n    this.isTransitioning = true;\n\n    const handleHideTransitionEnd = () => {\n      this.root.classList.remove('mm-collapsing');\n      this.root.classList.add('mm-collapse');\n      this.root.style.height = '';\n      this.root.removeEventListener('transitionend', handleHideTransitionEnd);\n      this.isTransitioning = false;\n    }\n\n    this.root.addEventListener('transitionend', handleHideTransitionEnd);\n    this.root.style.height = '0px';\n  }\n}\n\n// export = MMCollapse;\n// export default MMCollapse;\n"],"names":["MMCollapse","element","this","root","prototype","toggle","classList","contains","hide","show","_this","isTransitioning","style","height","remove","add","scrollHeight","handleShowTransitionEnd","removeEventListener","addEventListener","getBoundingClientRect","offsetHeight","handleHideTransitionEnd"],"mappings":";;;;;;;;EASA,IAAAA,WAAA,WAGE,SAAAA,EAAYC,GACVC,KAAKC,KAAOF,EA6DhB,OA1DED,EAAAI,UAAAC,OAAA,WACMH,KAAKC,KAAKG,UAAUC,SAAS,WAC/BL,KAAKM,OAELN,KAAKO,QAITT,EAAAI,UAAAK,KAAA,WAAA,IAAAC,EAAAR,KACE,IAAIA,KAAKS,kBAAmBT,KAAKC,KAAKG,UAAUC,SAAS,WAAzD,CAGAL,KAAKC,KAAKS,MAAMC,OAAS,MACzBX,KAAKC,KAAKG,UAAUQ,OAAO,eAC3BZ,KAAKC,KAAKG,UAAUQ,OAAO,WAC3BZ,KAAKC,KAAKG,UAAUS,IAAI,iBAExBb,KAAKS,iBAAkB,EAEvBT,KAAKC,KAAKG,UAAUS,IAAI,eACxBb,KAAKC,KAAKG,UAAUS,IAAI,WAExBb,KAAKC,KAAKS,MAAMC,OAAYX,KAAKC,KAAKa,aAAY,KAElD,IAAMC,EAA0B,WAC9BP,EAAKP,KAAKG,UAAUQ,OAAO,iBAC3BJ,EAAKP,KAAKS,MAAMC,OAAS,GACzBH,EAAKP,KAAKe,oBAAoB,gBAAiBD,GAC/CP,EAAKC,iBAAkB,GAGzBT,KAAKC,KAAKgB,iBAAiB,gBAAiBF,KAG9CjB,EAAAI,UAAAI,KAAA,WAAA,IAAAE,EAAAR,KACE,IAAIA,KAAKS,iBAAoBT,KAAKC,KAAKG,UAAUC,SAAS,WAA1D,CAIAL,KAAKC,KAAKS,MAAMC,OAAYX,KAAKC,KAAKiB,wBAAwBP,OAAM,KACpEX,KAAKC,KAAKS,MAAMC,OAAYX,KAAKC,KAAKkB,aAAY,KAElDnB,KAAKC,KAAKG,UAAUS,IAAI,iBACxBb,KAAKC,KAAKG,UAAUQ,OAAO,eAC3BZ,KAAKC,KAAKG,UAAUQ,OAAO,WAC3BZ,KAAKS,iBAAkB,EAEvB,IAAMW,EAA0B,WAC9BZ,EAAKP,KAAKG,UAAUQ,OAAO,iBAC3BJ,EAAKP,KAAKG,UAAUS,IAAI,eACxBL,EAAKP,KAAKS,MAAMC,OAAS,GACzBH,EAAKP,KAAKe,oBAAoB,gBAAiBI,GAC/CZ,EAAKC,iBAAkB,GAGzBT,KAAKC,KAAKgB,iBAAiB,gBAAiBG,GAC5CpB,KAAKC,KAAKS,MAAMC,OAAS,QAE7Bb,EAjEA"}