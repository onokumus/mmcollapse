{"version":3,"sources":["../src/mmcollapse.ts"],"sourcesContent":["/*!\n* mmcollapse - v0.0.2\n* another collapse plugin\n* https://github.com/onokumus/mmcollapse#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n\nclass MMCollapse {\n  protected root: HTMLElement;\n  protected isTransitioning!: boolean;\n  constructor(element: Element) {\n    this.root = element as HTMLElement;\n  }\n\n  toggle() {\n    if (this.root.classList.contains('mm-show')) {\n      this.hide()\n    } else {\n      this.show();\n    }\n  }\n\n  show() {\n    if (this.isTransitioning || this.root.classList.contains('mm-show')) {\n      return;\n    }\n    this.root.style.height = '0px';\n    this.root.classList.remove('mm-collapse');\n    this.root.classList.remove('mm-show');\n    this.root.classList.add('mm-collapsing');\n\n    this.isTransitioning = true;\n\n    this.root.classList.add('mm-collapse');\n    this.root.classList.add('mm-show');\n\n    this.root.style.height = `${this.root.scrollHeight}px`;\n\n    const handleShowTransitionEnd = () => {\n      this.root.classList.remove('mm-collapsing');\n      this.root.style.height = '';\n      this.root.removeEventListener('transitionend', handleShowTransitionEnd);\n      this.isTransitioning = false;\n    }\n\n    this.root.addEventListener('transitionend', handleShowTransitionEnd);\n  }\n\n  hide() {\n    if (this.isTransitioning || !this.root.classList.contains('mm-show')) {\n      return;\n    }\n\n    this.root.style.height = `${this.root.getBoundingClientRect().height}px`;\n    this.root.style.height = `${this.root.offsetHeight}px`;\n\n    this.root.classList.add('mm-collapsing');\n    this.root.classList.remove('mm-collapse');\n    this.root.classList.remove('mm-show');\n    this.isTransitioning = true;\n\n    const handleHideTransitionEnd = () => {\n      this.root.classList.remove('mm-collapsing');\n      this.root.classList.add('mm-collapse');\n      this.root.style.height = '';\n      this.root.removeEventListener('transitionend', handleHideTransitionEnd);\n      this.isTransitioning = false;\n    }\n\n    this.root.addEventListener('transitionend', handleHideTransitionEnd);\n    this.root.style.height = '0px';\n  }\n}\n\nexport = MMCollapse;\n// export default MMCollapse;\n"],"names":["MMCollapse","element","this","root","prototype","toggle","classList","contains","hide","show","handleShowTransitionEnd","_this","isTransitioning","style","height","remove","add","scrollHeight","removeEventListener","addEventListener","handleHideTransitionEnd","getBoundingClientRect","offsetHeight"],"mappings":";;;;;;;;mOAYE,SAAAA,EAAYC,GACVC,KAAKC,KAAOF,EA+DhB,OA5DED,EAAAI,UAAAC,OAAA,WACMH,KAAKC,KAAKG,UAAUC,SAAS,WAC/BL,KAAKM,OAELN,KAAKO,QAITT,EAAAI,UAAAK,KAAA,WAAA,IAgBQC,EAhBRC,EAAAT,KACMA,KAAKU,iBAAmBV,KAAKC,KAAKG,UAAUC,SAAS,aAGzDL,KAAKC,KAAKU,MAAMC,OAAS,MACzBZ,KAAKC,KAAKG,UAAUS,OAAO,eAC3Bb,KAAKC,KAAKG,UAAUS,OAAO,WAC3Bb,KAAKC,KAAKG,UAAUU,IAAI,iBAExBd,KAAKU,iBAAkB,EAEvBV,KAAKC,KAAKG,UAAUU,IAAI,eACxBd,KAAKC,KAAKG,UAAUU,IAAI,WAExBd,KAAKC,KAAKU,MAAMC,OAAYZ,KAAKC,KAAKc,aAAY,KAE5CP,EAA0B,WAC9BC,EAAKR,KAAKG,UAAUS,OAAO,iBAC3BJ,EAAKR,KAAKU,MAAMC,OAAS,GACzBH,EAAKR,KAAKe,oBAAoB,gBAAiBR,GAC/CC,EAAKC,iBAAkB,GAGzBV,KAAKC,KAAKgB,iBAAiB,gBAAiBT,KAG9CV,EAAAI,UAAAI,KAAA,WAAA,IAaQY,EAbRT,EAAAT,MACMA,KAAKU,iBAAoBV,KAAKC,KAAKG,UAAUC,SAAS,aAI1DL,KAAKC,KAAKU,MAAMC,OAAYZ,KAAKC,KAAKkB,wBAAwBP,OAAM,KACpEZ,KAAKC,KAAKU,MAAMC,OAAYZ,KAAKC,KAAKmB,aAAY,KAElDpB,KAAKC,KAAKG,UAAUU,IAAI,iBACxBd,KAAKC,KAAKG,UAAUS,OAAO,eAC3Bb,KAAKC,KAAKG,UAAUS,OAAO,WAC3Bb,KAAKU,iBAAkB,EAEjBQ,EAA0B,WAC9BT,EAAKR,KAAKG,UAAUS,OAAO,iBAC3BJ,EAAKR,KAAKG,UAAUU,IAAI,eACxBL,EAAKR,KAAKU,MAAMC,OAAS,GACzBH,EAAKR,KAAKe,oBAAoB,gBAAiBE,GAC/CT,EAAKC,iBAAkB,GAGzBV,KAAKC,KAAKgB,iBAAiB,gBAAiBC,GAC5ClB,KAAKC,KAAKU,MAAMC,OAAS,QAE7Bd"}